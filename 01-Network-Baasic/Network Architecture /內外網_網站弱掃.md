## 🌐 網路基礎知識 — 內外網分類 ##

<br>

### 1. 內網 (Intranet) 與 外網 (Internet) 的定義 ###

|  特性  | 內網(Intranet) | 外網 (Internet / 公網) |
|  ----  | ------------  | ---------------------- |
| 網路範圍  | 公司 / 機構內部使用的網路 | 對全世界開放的網路 |
| IP 地址 | 使用 私有 IP (RFC1918 範圍) | 使用 公開 IP (非 RFC1918 範圍)|
| 對外機制 | 對外通常經過 NAT (Network Address Translation) | 面對外部用戶，通常需要防火牆、WAF、DDoS 防護 |
| 常見系統 | 開發環境、測試環境、內部應用系統 (如 HR、ERP) | 官網、外部 API、B2C 平台 |

---
<br>

### 2. 內網 IP 範圍 (RFC1918) ###
重要判斷依據： 出現這些就是「內網」，其餘的幾乎都是公網。

| 類別 | 範圍起始 | 範圍結束 | 常用 CIDR 表示 |
| --- | -------- | --------|-------------- |
| Class A | 10.0.0.0 | 10.255.255.255 | 10.0.0.0/8 |
| Class B | 172.16.0.0 | 172.31.255.255 | 172.16.0.0/12 | 
| Class C | 192.168.0.0 | 192.168.255.255 | 192.168.0.0/16

---
<br>

### 3. 常用工具與判斷重點 ###

| 工具 | 用法示例	| 判斷重點 |	判斷結果 |
| ---- | -------- | --------|-------- |
| nslookup | nslookup www.example.com	| 將網址轉成 IP，確認 IP 是否屬於 RFC1918 範圍 | 屬私有 IP → 內網；屬公開 IP → 外網 |
|ping |	ping www.example.com	| 測試網路連線是否暢通 |	無法 直接判斷內外網 |
|tracert/traceroute	| tracert www.example.com	| 觀察封包經過的路徑 (Hop) |	經過少數內部節點 → 內網；經過 ISP 節點 → 外網 |
|whois | whois 8.8.8.8	| 查詢 IP 的註冊歸屬資訊 |	歸屬於 IANA (保留) → 內網；歸屬於 ISP 或特定公司 → 外網 |

---
<br>

### 4. 內外網在資安中的差異 ###

資安風險
- 內網風險：
    - 被認為是「較安全環境」，但「內部威脅 (Insider Threat)」嚴重。
    - 多用於內部弱點掃描/系統測試，通常不會引發外部 SOC 警報。

- 外網風險：
    - 攻擊面最大，對外完全暴露。
    - 弱點掃描會被 IDS/IPS、WAF 視為攻擊行為。

測試授權
- 內網測試： 內部許可即可。
- 外網測試： 必須 取得正式的滲透測試授權 (Authorization)，否則可能觸法。

---
<br>

### 5. 內外網之間的區隔技術 ###

|技術名稱 | 說明 | 資安好處 |
|  ----  | ---- | ------- |
| NAT | Network Address Translation：將內網私有 IP 轉換為公網 IP 以便上網。| 隱藏內網的真實 IP 結構。|
| 防火牆 (Firewall) | 根據規則控制內外網之間的進出流量。 | 阻擋未經授權的連線，執行存取控制。 |
| DMZ | Demilitarized Zone (非軍事區)：介於內外網之間的隔離區。 | 放置對外服務的伺服器。即使 DMZ 被攻破，攻擊者也不會直接進入核心內網。 |

---
<br>

### 6. 弱掃前的檢查流程 (流程圖思維) ###

  1.取得目標網址/IP。
  
  2.nslookup → 解析 IP。
  - 結果判斷： 是私有 IP (RFC1918) 還是公開 IP？

  3.whois → 確認歸屬。
  - 結果判斷： 歸屬於 IANA (內網) 還是 ISP/公司註冊 (外網)？
    
  4.tracert → 查看路徑。
  - 結果判斷： 路徑短且多內部節點 (內網) 還是多跳且經過 ISP (外網)？
    
  5.確認授權。
  - 結論： 內網 (內部許可) vs. 外網 (必須有正式授權)。

<br>
